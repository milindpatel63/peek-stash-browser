# v3.2.0 Beta Feedback Design

Design spec for addressing user feedback from 3.2.0-beta.1 testing.

## 1. Wall View Restoration (Bug Fix)

**Problem:** When table view was added, the `VIEW_MODES` arrays were updated to only include `grid` and `table`, removing `wall`. The wall rendering logic still exists but users can't select it.

**Fix:** Add `wall` back to VIEW_MODES in pages that previously supported it:
- `SceneSearch.jsx`: `[grid, wall, table]`
- `Galleries.jsx`: `[grid, wall, table]`
- `Images.jsx`: `[grid, wall, table]`

Pages without wall support (Performers, Studios, Groups, Tags) remain unchanged.

**Files:**
- `client/src/components/scene-search/SceneSearch.jsx`
- `client/src/components/pages/Galleries.jsx`
- `client/src/components/pages/Images.jsx`

## 2. Columns Button: Icon-Only + In-Table Copy

**Current:** "Columns" button displays icon + text, only in toolbar above table.

**Changes:**
1. Make toolbar button icon-only (just `LucideColumns3`, remove "Columns" text)
2. Add a columns button in the table header row - first cell, always visible regardless of column config
3. Both buttons open the same `ColumnConfigPopover`

**Files:**
- `client/src/components/table/ColumnConfigPopover.jsx` - Remove text from button
- `client/src/components/table/TableView.jsx` - Add columns button in header row

## 3. Tag Hierarchy View: Expand/Collapse All

**Current:** Users must click individual chevrons to expand/collapse each node.

**Changes:** Add two quick action buttons above the hierarchy tree:
- **Expand All** - Expands every node in the tree
- **Collapse All** - Collapses everything to root-level tags only

**Implementation:**
- Add `expandAll()` - collect all tag IDs with children, set all as expanded
- Add `collapseAll()` - clear the expanded set
- Buttons in header area with icons (`LucideChevronsUpDown`, `LucideChevronsDownUp`)

**Files:**
- `client/src/components/tags/TagHierarchyView.jsx`

## 4. Table Headers: Increased Padding

**Current:** Column headings use `px-3 py-2` padding. Sort icons cause overlap with adjacent column text.

**Changes:**
- Increase horizontal padding (calculate based on sort icon width + buffer)
- Ensure sort icons have adequate spacing from label text
- All column headings remain clearly legible with spacing

**Files:**
- `client/src/components/table/TableHeader.jsx`

## 5. Tags Table: Name Column Width

**Status:** Deferred - reassess after header padding fix (#4) is implemented. The Name column currently grows to fill available space; padding changes may naturally address this.

## 6. Studios Table: Image Display

**Current:** Studio images use `w-16 h-10` (64x40px) with `object-cover` (crops to fit).

**Problem:** Studio images are logos with various aspect ratios (usually wide/landscape). Cropping cuts off important parts.

**Changes (matching StudioDetail approach):**
- Use `object-contain` instead of `object-cover` (no cropping)
- Increase container size (e.g., `w-24 h-12` or `w-32 h-16`)
- Add subtle background color for logos with transparency
- Container allows flexible aspect ratio

**Files:**
- `client/src/components/table/cellRenderers.jsx` - Studio image renderer
- `client/src/config/tableColumns.js` - STUDIO_COLUMNS image width

## 7. Playlist Reordering: Replace Drag & Drop

**Current:** HTML5 drag-and-drop with touch support. Feedback: unusable.

**Changes:** Replace with explicit position controls (like ColumnConfigPopover):

**Per-item controls:**
- **Position input** - Number field showing current position (1-indexed)
- **Arrow buttons** - Up, Down, Top, Bottom

**Position input behavior:**
- Enter number → item moves to that position, others shift
- Number > max → moves to last position
- Number ≤ 0 → moves to first position

**Button behavior:**
- Top: Move to position 1
- Up: Swap with item above
- Down: Swap with item below
- Bottom: Move to last position

**Remove:** Drag handles, drag-and-drop handlers, touch handlers

**Keep:** Reorder mode toggle, Save/Cancel workflow

**Files:**
- `client/src/components/pages/PlaylistDetail.jsx`

## 8. PlaylistDetail: Performer Image Style

**Current:** Performer images use circular/rounded-full styling.

**Changes:** Use portrait-style performer images consistent with:
- Card indicator tooltips
- Scene cards
- Performer cards

Rectangular portrait orientation with standard corner rounding (`rounded-md` or `rounded-lg`).

**Files:**
- `client/src/components/pages/PlaylistDetail.jsx`
- Possibly `client/src/components/ui/SceneListItem.jsx` if performer display is there

## 9. PlaylistDetail: Item Context Menu

**Current:** Playlist items only have a "Remove" button.

**Changes:** Add ellipsis menu (vertical dots) in bottom-right of each playlist item.

**Initial menu contents:**
- **"Add to Other Playlist"** - Opens playlist selection (reuse `AddToPlaylistButton` logic)

**Implementation:**
- Exclude current playlist from selection list
- Position: Bottom-right of item card
- Style: Consistent with other context menus

**Future expansion:** Menu can hold additional actions later.

**Files:**
- `client/src/components/pages/PlaylistDetail.jsx`
- May create new component for the menu

## Implementation Order

Recommended sequence:
1. Wall View fix (quick fix)
2. Table header padding (foundational, affects all tables)
3. Columns button changes
4. Studios table image display
5. Tags hierarchy expand/collapse
6. Playlist reordering overhaul
7. Playlist performer images
8. Playlist context menu
9. Reassess Tags name column width
