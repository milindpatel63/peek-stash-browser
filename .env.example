# ============================================================================
# PEEK STASH BROWSER - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and configure for your environment
# ============================================================================

# ----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------------------
# SQLite database path - This should always be file:/app/data/peek-db.db
# The actual storage location is controlled by PEEK_DATA_DIR in docker-compose
DATABASE_URL=file:/app/data/peek-db.db

# ----------------------------------------------------------------------------
# JWT CONFIGURATION
# ----------------------------------------------------------------------------
JWT_SECRET=your-super-secure-jwt-secret-key-here-change-me
JWT_EXPIRES_IN=7d

# ----------------------------------------------------------------------------
# PROXY AUTH CONFIGURATION
# ----------------------------------------------------------------------------
# Allow your reverse proxy to handle authentication by providing a header to
# all proxied requests with the user's username. Falls back to token-based auth
# when disabled or no header value is present.
# PROXY_AUTH_HEADER=X-Peek-Username

# ----------------------------------------------------------------------------
# STASH SERVER CONFIGURATION
# ----------------------------------------------------------------------------
# URL to your Stash GraphQL endpoint
STASH_URL=http://your-stash-server:9999/graphql

# API key from Stash Settings > Security > API Key
STASH_API_KEY=your_stash_api_key_here

# ----------------------------------------------------------------------------
# MEDIA VOLUME CONFIGURATION
# ----------------------------------------------------------------------------
# Docker volumes for media access - supports multiple Stash libraries
# These should reference externally-created Docker volumes
#
# For development with network shares (SMB/CIFS):
# 1. Create Docker volumes pointing to your Stash libraries:
#
#    docker volume create peek-videos \
#      --driver local \
#      --opt type=cifs \
#      --opt device=//10.0.0.4/stash/videos \
#      --opt o=username=user,password=pass
#
#    docker volume create peek-images \
#      --driver local \
#      --opt type=cifs \
#      --opt device=//10.0.0.4/stash/images \
#      --opt o=username=user,password=pass
#
# 2. Reference them here:
MEDIA_VOLUME_1=peek-videos
MEDIA_VOLUME_2=peek-images
#
# For single library setups, only set MEDIA_VOLUME_1
# For direct host paths (Linux), create volumes with type=none,o=bind:
#    docker volume create peek-videos \
#      --driver local \
#      --opt type=none \
#      --opt o=bind \
#      --opt device=/path/to/stash/videos

# ----------------------------------------------------------------------------
# PEEK DATA DIRECTORY
# ----------------------------------------------------------------------------
# Where Peek stores its database and HLS transcoding cache on YOUR system
# This directory will be created if it doesn't exist
#
# Development (default): Uses ./.peek-data in the project directory
# Production (unRAID): Use something like /mnt/user/appdata/peek
PEEK_DATA_DIR=./.peek-data

# ----------------------------------------------------------------------------
# OPTIONAL: REVERSE PROXY / TRUST PROXY
# ----------------------------------------------------------------------------
# If running behind a reverse proxy (nginx, Traefik, etc.), set this to
# avoid express-rate-limit warnings about X-Forwarded-For headers.
# Common values:
#   1     = Trust first proxy (most common, single nginx in front)
#   2     = Trust first two proxies (e.g., CDN + nginx)
#   true  = Trust all proxies (only if you control the entire chain)
# TRUST_PROXY=1

# ----------------------------------------------------------------------------
# OPTIONAL: PORT CONFIGURATION
# ----------------------------------------------------------------------------
# Customize the ports if you have conflicts
# Defaults: Frontend=6969, Backend=8000
# PEEK_FRONTEND_PORT=6969
# PEEK_BACKEND_PORT=8000
