<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Modern web application for browsing and streaming your Stash media library"><meta name=author content=carrotwaxr><link href=https://carrotwaxr.github.io/peek-stash-browser/plans/2026-01-15-card-display-customization-design/ rel=canonical><link rel=icon href=../../assets/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.2"><title>Card Display Customization Design - Peek Stash Browser</title><link rel=stylesheet href=../../assets/stylesheets/main.484c7ddc.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=pink> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#card-display-customization-design class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Peek Stash Browser" class="md-header__button md-logo" aria-label="Peek Stash Browser" data-md-component=logo> <img src=../../assets/peek-logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Peek Stash Browser </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Card Display Customization Design </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=pink aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=deep-purple data-md-color-accent=pink aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/carrotwaxr/peek-stash-browser title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> carrotwaxr/peek-stash-browser </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Peek Stash Browser" class="md-nav__button md-logo" aria-label="Peek Stash Browser" data-md-component=logo> <img src=../../assets/peek-logo.png alt=logo> </a> Peek Stash Browser </label> <div class=md-nav__source> <a href=https://github.com/carrotwaxr/peek-stash-browser title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> carrotwaxr/peek-stash-browser </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting-started/installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/quick-start/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/upgrading/ class=md-nav__link> <span class=md-ellipsis> Upgrading </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/troubleshooting/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting </span> </a> </li> <li class=md-nav__item> <a href=../../getting-started/faq/ class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> User Guide </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user-guide/browse-and-display/ class=md-nav__link> <span class=md-ellipsis> Browse and Display </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/content-restrictions/ class=md-nav__link> <span class=md-ellipsis> Content Restrictions </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/custom-carousels/ class=md-nav__link> <span class=md-ellipsis> Custom Carousels </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/downloads/ class=md-nav__link> <span class=md-ellipsis> Downloads </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/external-player/ class=md-nav__link> <span class=md-ellipsis> External Player </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/hidden-items/ class=md-nav__link> <span class=md-ellipsis> Hidden Items </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/images/ class=md-nav__link> <span class=md-ellipsis> Images </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/keyboard-navigation/ class=md-nav__link> <span class=md-ellipsis> Keyboard Navigation </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/merge-detection/ class=md-nav__link> <span class=md-ellipsis> Merge Detection </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/personalization/ class=md-nav__link> <span class=md-ellipsis> Personalization </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/playlists/ class=md-nav__link> <span class=md-ellipsis> Playlists </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/recommendations/ class=md-nav__link> <span class=md-ellipsis> Recommendations </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/user-management/ class=md-nav__link> <span class=md-ellipsis> User Management </span> </a> </li> <li class=md-nav__item> <a href=../../user-guide/watch-history/ class=md-nav__link> <span class=md-ellipsis> Watch History </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../reference/docker-basics/ class=md-nav__link> <span class=md-ellipsis> Docker Basics </span> </a> </li> <li class=md-nav__item> <a href=../../reference/api-reference/ class=md-nav__link> <span class=md-ellipsis> API Reference </span> </a> </li> <li class=md-nav__item> <a href=../../reference/entity-relationships/ class=md-nav__link> <span class=md-ellipsis> Entity Relationships </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../development/local-setup/ class=md-nav__link> <span class=md-ellipsis> Local Setup </span> </a> </li> <li class=md-nav__item> <a href=../../development/technical-overview/ class=md-nav__link> <span class=md-ellipsis> Technical Overview </span> </a> </li> <li class=md-nav__item> <a href=../../development/sync-architecture/ class=md-nav__link> <span class=md-ellipsis> Sync Architecture </span> </a> </li> <li class=md-nav__item> <a href=../../development/regression-testing/ class=md-nav__link> <span class=md-ellipsis> Regression Testing Guide </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#scope class=md-nav__link> <span class=md-ellipsis> Scope </span> </a> <nav class=md-nav aria-label=Scope> <ul class=md-nav__list> <li class=md-nav__item> <a href=#entity-types-covered class=md-nav__link> <span class=md-ellipsis> Entity Types Covered </span> </a> </li> <li class=md-nav__item> <a href=#whats-not-customizable class=md-nav__link> <span class=md-ellipsis> What's NOT Customizable </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#prerequisites class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=#data-model class=md-nav__link> <span class=md-ellipsis> Data Model </span> </a> <nav class=md-nav aria-label="Data Model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#database-schema class=md-nav__link> <span class=md-ellipsis> Database Schema </span> </a> </li> <li class=md-nav__item> <a href=#json-structure class=md-nav__link> <span class=md-ellipsis> JSON Structure </span> </a> </li> <li class=md-nav__item> <a href=#defaults class=md-nav__link> <span class=md-ellipsis> Defaults </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#settings-ui class=md-nav__link> <span class=md-ellipsis> Settings UI </span> </a> <nav class=md-nav aria-label="Settings UI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#settings-page-customization-section class=md-nav__link> <span class=md-ellipsis> Settings Page (Customization Section) </span> </a> </li> <li class=md-nav__item> <a href=#quick-access-contextsettings-settings-cog class=md-nav__link> <span class=md-ellipsis> Quick Access (ContextSettings / Settings Cog) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#component-architecture class=md-nav__link> <span class=md-ellipsis> Component Architecture </span> </a> <nav class=md-nav aria-label="Component Architecture"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#usecarddisplaysettings-hook class=md-nav__link> <span class=md-ellipsis> useCardDisplaySettings Hook </span> </a> </li> <li class=md-nav__item> <a href=#card-component-integration class=md-nav__link> <span class=md-ellipsis> Card Component Integration </span> </a> </li> <li class=md-nav__item> <a href=#cardratingrow-changes class=md-nav__link> <span class=md-ellipsis> CardRatingRow Changes </span> </a> </li> <li class=md-nav__item> <a href=#detail-page-integration class=md-nav__link> <span class=md-ellipsis> Detail Page Integration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#skeleton-loading class=md-nav__link> <span class=md-ellipsis> Skeleton Loading </span> </a> <nav class=md-nav aria-label="Skeleton Loading"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#height-alignment class=md-nav__link> <span class=md-ellipsis> Height Alignment </span> </a> </li> <li class=md-nav__item> <a href=#settings-aware-skeletons class=md-nav__link> <span class=md-ellipsis> Settings-Aware Skeletons </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#behavior-notes class=md-nav__link> <span class=md-ellipsis> Behavior Notes </span> </a> <nav class=md-nav aria-label="Behavior Notes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#grid-alignment class=md-nav__link> <span class=md-ellipsis> Grid Alignment </span> </a> </li> <li class=md-nav__item> <a href=#playlistdetail-items class=md-nav__link> <span class=md-ellipsis> PlaylistDetail Items </span> </a> </li> <li class=md-nav__item> <a href=#scene-code-toggle class=md-nav__link> <span class=md-ellipsis> Scene Code Toggle </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-order class=md-nav__link> <span class=md-ellipsis> Implementation Order </span> </a> <nav class=md-nav aria-label="Implementation Order"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#phase-1-foundation-prerequisites class=md-nav__link> <span class=md-ellipsis> Phase 1: Foundation (Prerequisites) </span> </a> </li> <li class=md-nav__item> <a href=#phase-2-core-infrastructure class=md-nav__link> <span class=md-ellipsis> Phase 2: Core Infrastructure </span> </a> </li> <li class=md-nav__item> <a href=#phase-3-card-customization class=md-nav__link> <span class=md-ellipsis> Phase 3: Card Customization </span> </a> </li> <li class=md-nav__item> <a href=#phase-4-detail-page-integration class=md-nav__link> <span class=md-ellipsis> Phase 4: Detail Page Integration </span> </a> </li> <li class=md-nav__item> <a href=#phase-5-settings-ui class=md-nav__link> <span class=md-ellipsis> Phase 5: Settings UI </span> </a> </li> <li class=md-nav__item> <a href=#phase-6-skeleton-adaptation class=md-nav__link> <span class=md-ellipsis> Phase 6: Skeleton Adaptation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#file-changes class=md-nav__link> <span class=md-ellipsis> File Changes </span> </a> <nav class=md-nav aria-label="File Changes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#new-files class=md-nav__link> <span class=md-ellipsis> New Files </span> </a> </li> <li class=md-nav__item> <a href=#modified-files class=md-nav__link> <span class=md-ellipsis> Modified Files </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=card-display-customization-design>Card Display Customization Design<a class=headerlink href=#card-display-customization-design title="Permanent link">&para;</a></h1> <p><strong>Date:</strong> 2026-01-15 <strong>Version:</strong> 3.2.0 <strong>Status:</strong> Approved</p> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p>This feature introduces card display customization for Peek 3.2.0, allowing users to control what information appears on entity cards and detail pages. Cards are the primary way users view content in Peek, so rather than introducing opinionated views, we give users granular control over card anatomy.</p> <h2 id=scope>Scope<a class=headerlink href=#scope title="Permanent link">&para;</a></h2> <p>Three main customization areas:</p> <ol> <li><strong>Scene Code</strong> - Toggle visibility of studio code (e.g., JAV codes) on Scene cards</li> <li><strong>Description/Details</strong> - Toggle visibility per entity type, with separate settings for cards vs detail pages</li> <li><strong>Rating/Favorite/O Counter</strong> - Toggle each control individually, per entity type, affecting both cards and detail pages</li> </ol> <h3 id=entity-types-covered>Entity Types Covered<a class=headerlink href=#entity-types-covered title="Permanent link">&para;</a></h3> <ul> <li>Scene</li> <li>Performer</li> <li>Studio</li> <li>Gallery</li> <li>Group</li> <li>Tag</li> <li>Image</li> </ul> <h3 id=whats-not-customizable>What's NOT Customizable<a class=headerlink href=#whats-not-customizable title="Permanent link">&para;</a></h3> <ul> <li>EntityMenu (3-dot menu) - Always visible for hide/action functionality</li> <li>Card indicators section - Out of scope for this phase</li> <li>Title/subtitle configuration - Out of scope for this phase</li> </ul> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h2> <p>Before implementing the customization layer:</p> <ol> <li><strong>Add description display to PerformerCard and ImageCard</strong> - These currently hide descriptions; we need a uniform baseline</li> <li><strong>Align skeleton loading heights</strong> - Skeletons must match actual card anatomy for seamless loading transitions</li> </ol> <h2 id=data-model>Data Model<a class=headerlink href=#data-model title="Permanent link">&para;</a></h2> <h3 id=database-schema>Database Schema<a class=headerlink href=#database-schema title="Permanent link">&para;</a></h3> <p>New field on User model in <code>schema.prisma</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>cardDisplaySettings Json? // Stored as JSON object
</span></code></pre></div> <h3 id=json-structure>JSON Structure<a class=headerlink href=#json-structure title="Permanent link">&para;</a></h3> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>{</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>  </span><span class=nx>scene</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=nx>showCodeOnCard</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w>         </span><span class=c1>// Scene-specific: studio code in subtitle</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=nx>showDescriptionOnCard</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>    </span><span class=nx>showDescriptionOnDetail</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=nx>showRating</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>    </span><span class=nx>showFavorite</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=nx>showOCounter</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>  </span><span class=nx>performer</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>    </span><span class=nx>showDescriptionOnCard</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>    </span><span class=nx>showDescriptionOnDetail</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>    </span><span class=nx>showRating</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>    </span><span class=nx>showFavorite</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>    </span><span class=nx>showOCounter</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>  </span><span class=nx>studio</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=w>    </span><span class=nx>showDescriptionOnCard</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=w>    </span><span class=nx>showDescriptionOnDetail</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=w>    </span><span class=nx>showRating</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=w>    </span><span class=nx>showFavorite</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=w>    </span><span class=nx>showOCounter</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=w>  </span><span class=nx>gallery</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=w>    </span><span class=nx>showDescriptionOnCard</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=w>    </span><span class=nx>showDescriptionOnDetail</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=w>    </span><span class=nx>showRating</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a><span class=w>    </span><span class=nx>showFavorite</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=w>    </span><span class=nx>showOCounter</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=w>  </span><span class=nx>group</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=w>    </span><span class=nx>showDescriptionOnCard</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a><span class=w>    </span><span class=nx>showDescriptionOnDetail</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-34><a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a><span class=w>    </span><span class=nx>showRating</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-35><a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a><span class=w>    </span><span class=nx>showFavorite</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-36><a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a><span class=w>    </span><span class=nx>showOCounter</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-1-37><a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-1-38><a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a><span class=w>  </span><span class=nx>tag</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-39><a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a><span class=w>    </span><span class=nx>showDescriptionOnCard</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-40><a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a><span class=w>    </span><span class=nx>showDescriptionOnDetail</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-41><a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a><span class=w>    </span><span class=nx>showRating</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-42><a id=__codelineno-1-42 name=__codelineno-1-42 href=#__codelineno-1-42></a><span class=w>    </span><span class=nx>showFavorite</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-43><a id=__codelineno-1-43 name=__codelineno-1-43 href=#__codelineno-1-43></a><span class=w>    </span><span class=nx>showOCounter</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-1-44><a id=__codelineno-1-44 name=__codelineno-1-44 href=#__codelineno-1-44></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-1-45><a id=__codelineno-1-45 name=__codelineno-1-45 href=#__codelineno-1-45></a><span class=w>  </span><span class=nx>image</span><span class=o>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-46><a id=__codelineno-1-46 name=__codelineno-1-46 href=#__codelineno-1-46></a><span class=w>    </span><span class=nx>showDescriptionOnCard</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-47><a id=__codelineno-1-47 name=__codelineno-1-47 href=#__codelineno-1-47></a><span class=w>    </span><span class=nx>showDescriptionOnDetail</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-48><a id=__codelineno-1-48 name=__codelineno-1-48 href=#__codelineno-1-48></a><span class=w>    </span><span class=nx>showRating</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-49><a id=__codelineno-1-49 name=__codelineno-1-49 href=#__codelineno-1-49></a><span class=w>    </span><span class=nx>showFavorite</span><span class=o>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-50><a id=__codelineno-1-50 name=__codelineno-1-50 href=#__codelineno-1-50></a><span class=w>    </span><span class=nx>showOCounter</span><span class=o>:</span><span class=w> </span><span class=kc>true</span>
</span><span id=__span-1-51><a id=__codelineno-1-51 name=__codelineno-1-51 href=#__codelineno-1-51></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-1-52><a id=__codelineno-1-52 name=__codelineno-1-52 href=#__codelineno-1-52></a><span class=p>}</span>
</span></code></pre></div> <h3 id=defaults>Defaults<a class=headerlink href=#defaults title="Permanent link">&para;</a></h3> <ul> <li>All toggles default to <code>true</code> when not present (preserves current behavior)</li> <li><code>showCodeOnCard</code> only exists for <code>scene</code> entity type</li> </ul> <h2 id=settings-ui>Settings UI<a class=headerlink href=#settings-ui title="Permanent link">&para;</a></h2> <h3 id=settings-page-customization-section>Settings Page (Customization Section)<a class=headerlink href=#settings-page-customization-section title="Permanent link">&para;</a></h3> <p>Add a "Card Display" subsection under Customization with accordion/tabs per entity type:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>Card Display
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>├── Scene
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>│   ├── [toggle] Show studio code on cards
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>│   ├── [toggle] Show description on cards
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>│   ├── [toggle] Show description on detail page
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>│   ├── [toggle] Show rating
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>│   ├── [toggle] Show favorite
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>│   └── [toggle] Show O counter
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>├── Performer
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>│   ├── [toggle] Show description on cards
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>│   ├── [toggle] Show description on detail page
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>│   ├── [toggle] Show rating
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>│   ├── [toggle] Show favorite
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>│   └── [toggle] Show O counter
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>├── Studio / Gallery / Group / Tag / Image
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>│   └── ... (same pattern as Performer)
</span></code></pre></div> <h3 id=quick-access-contextsettings-settings-cog>Quick Access (ContextSettings / Settings Cog)<a class=headerlink href=#quick-access-contextsettings-settings-cog title="Permanent link">&para;</a></h3> <p>Available on card grids and entity search pages. Shows only card-relevant toggles for the current entity type:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>Card Display
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>├── [toggle] Show studio code (Scene only)
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>├── [toggle] Show description
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>├── [toggle] Show rating
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>├── [toggle] Show favorite
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>└── [toggle] Show O counter
</span></code></pre></div> <p>Detail page toggles are only accessible via the main Settings page.</p> <h2 id=component-architecture>Component Architecture<a class=headerlink href=#component-architecture title="Permanent link">&para;</a></h2> <h3 id=usecarddisplaysettings-hook>useCardDisplaySettings Hook<a class=headerlink href=#usecarddisplaysettings-hook title="Permanent link">&para;</a></h3> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>getSettings</span><span class=p>,</span><span class=w> </span><span class=nx>updateSettings</span><span class=p>,</span><span class=w> </span><span class=nx>isLoading</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useCardDisplaySettings</span><span class=p>();</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=c1>// Get settings for an entity type (returns defaults if not set)</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=kd>const</span><span class=w> </span><span class=nx>sceneSettings</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getSettings</span><span class=p>(</span><span class=s1>&#39;scene&#39;</span><span class=p>);</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=c1>// { showCodeOnCard: true, showDescriptionOnCard: true, ... }</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=c1>// Update a specific setting</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=nx>updateSettings</span><span class=p>(</span><span class=s1>&#39;scene&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;showCodeOnCard&#39;</span><span class=p>,</span><span class=w> </span><span class=kc>false</span><span class=p>);</span>
</span></code></pre></div> <p>Features: - Fetches <code>cardDisplaySettings</code> from user API - Caches in React context to avoid prop drilling - Returns <code>true</code> defaults for missing settings - Debounced persistence to API</p> <h3 id=card-component-integration>Card Component Integration<a class=headerlink href=#card-component-integration title="Permanent link">&para;</a></h3> <p>Each card reads from the hook and configures BaseCard:</p> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1>// In SceneCard.jsx</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>getSettings</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useCardDisplaySettings</span><span class=p>();</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=kd>const</span><span class=w> </span><span class=nx>settings</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getSettings</span><span class=p>(</span><span class=s1>&#39;scene&#39;</span><span class=p>);</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=c1>// Build subtitle without code if disabled</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=kd>const</span><span class=w> </span><span class=nx>subtitle</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>buildSceneSubtitle</span><span class=p>(</span><span class=nx>scene</span><span class=p>,</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>includeCode</span><span class=o>:</span><span class=w> </span><span class=nx>settings</span><span class=p>.</span><span class=nx>showCodeOnCard</span><span class=w> </span><span class=p>});</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=o>&lt;</span><span class=nx>BaseCard</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>  </span><span class=nx>displayPreferences</span><span class=o>=</span><span class=p>{{</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=w>    </span><span class=nx>showDescription</span><span class=o>:</span><span class=w> </span><span class=nx>settings</span><span class=p>.</span><span class=nx>showDescriptionOnCard</span><span class=p>,</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=w>  </span><span class=p>}}</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>  </span><span class=nx>ratingControlsProps</span><span class=o>=</span><span class=p>{{</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=w>    </span><span class=p>...</span><span class=nx>existingProps</span><span class=p>,</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=w>    </span><span class=nx>showRating</span><span class=o>:</span><span class=w> </span><span class=nx>settings</span><span class=p>.</span><span class=nx>showRating</span><span class=p>,</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=w>    </span><span class=nx>showFavorite</span><span class=o>:</span><span class=w> </span><span class=nx>settings</span><span class=p>.</span><span class=nx>showFavorite</span><span class=p>,</span>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a><span class=w>    </span><span class=nx>showOCounter</span><span class=o>:</span><span class=w> </span><span class=nx>settings</span><span class=p>.</span><span class=nx>showOCounter</span><span class=p>,</span>
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a><span class=w>  </span><span class=p>}}</span>
</span><span id=__span-5-18><a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a><span class=err>/&gt;</span>
</span></code></pre></div> <h3 id=cardratingrow-changes>CardRatingRow Changes<a class=headerlink href=#cardratingrow-changes title="Permanent link">&para;</a></h3> <p>Accept visibility props for individual controls:</p> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>export</span><span class=w> </span><span class=kd>const</span><span class=w> </span><span class=nx>CardRatingRow</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>({</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>  </span><span class=nx>showRating</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>  </span><span class=nx>showFavorite</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>  </span><span class=nx>showOCounter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>  </span><span class=c1>// ... existing props</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=p>})</span><span class=w> </span><span class=p>=&gt;</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a><span class=w>    </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;flex justify-between items-center w-full my-1&quot;</span><span class=w> </span><span class=nx>style</span><span class=o>=</span><span class=p>{{</span><span class=w> </span><span class=nx>height</span><span class=o>:</span><span class=w> </span><span class=s2>&quot;2rem&quot;</span><span class=w> </span><span class=p>}}</span><span class=o>&gt;</span>
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a><span class=w>      </span><span class=p>{</span><span class=cm>/* Left side: Rating badge */</span><span class=p>}</span>
</span><span id=__span-6-10><a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=w>      </span><span class=p>{</span><span class=nx>showRating</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=p>(</span>
</span><span id=__span-6-11><a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a><span class=w>        </span><span class=o>&lt;</span><span class=nx>RatingBadge</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=o>/&gt;</span>
</span><span id=__span-6-12><a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=w>      </span><span class=p>)}</span>
</span><span id=__span-6-13><a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
</span><span id=__span-6-14><a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a><span class=w>      </span><span class=p>{</span><span class=cm>/* Right side: Controls + EntityMenu */</span><span class=p>}</span>
</span><span id=__span-6-15><a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a><span class=w>      </span><span class=o>&lt;</span><span class=nx>div</span><span class=w> </span><span class=nx>className</span><span class=o>=</span><span class=s2>&quot;flex items-center gap-2&quot;</span><span class=o>&gt;</span>
</span><span id=__span-6-16><a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a><span class=w>        </span><span class=p>{</span><span class=nx>showOCounter</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>&lt;</span><span class=nx>OCounterButton</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=o>/&gt;</span><span class=p>}</span>
</span><span id=__span-6-17><a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a><span class=w>        </span><span class=p>{</span><span class=nx>showFavorite</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>&lt;</span><span class=nx>FavoriteButton</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=o>/&gt;</span><span class=p>}</span>
</span><span id=__span-6-18><a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a><span class=w>        </span><span class=o>&lt;</span><span class=nx>EntityMenu</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=o>/&gt;</span><span class=w> </span><span class=p>{</span><span class=cm>/* Always visible */</span><span class=p>}</span>
</span><span id=__span-6-19><a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a><span class=w>      </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
</span><span id=__span-6-20><a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a><span class=w>    </span><span class=o>&lt;</span><span class=err>/div&gt;</span>
</span><span id=__span-6-21><a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a><span class=w>  </span><span class=p>);</span>
</span><span id=__span-6-22><a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a><span class=p>};</span>
</span></code></pre></div> <h3 id=detail-page-integration>Detail Page Integration<a class=headerlink href=#detail-page-integration title="Permanent link">&para;</a></h3> <p>Detail pages read from the same hook:</p> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>getSettings</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useCardDisplaySettings</span><span class=p>();</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=kd>const</span><span class=w> </span><span class=nx>settings</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getSettings</span><span class=p>(</span><span class=s1>&#39;scene&#39;</span><span class=p>);</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=p>{</span><span class=nx>settings</span><span class=p>.</span><span class=nx>showDescriptionOnDetail</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>&lt;</span><span class=nx>DescriptionSection</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=o>/&gt;</span><span class=p>}</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=p>{</span><span class=nx>settings</span><span class=p>.</span><span class=nx>showRating</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>&lt;</span><span class=nx>RatingControl</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=o>/&gt;</span><span class=p>}</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=p>{</span><span class=nx>settings</span><span class=p>.</span><span class=nx>showFavorite</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>&lt;</span><span class=nx>FavoriteButton</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=o>/&gt;</span><span class=p>}</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=p>{</span><span class=nx>settings</span><span class=p>.</span><span class=nx>showOCounter</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=o>&lt;</span><span class=nx>OCounterButton</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=o>/&gt;</span><span class=p>}</span>
</span></code></pre></div> <h2 id=skeleton-loading>Skeleton Loading<a class=headerlink href=#skeleton-loading title="Permanent link">&para;</a></h2> <h3 id=height-alignment>Height Alignment<a class=headerlink href=#height-alignment title="Permanent link">&para;</a></h3> <p>Skeletons must match actual card heights. Key fixed heights: - Image: aspect ratio (16/9 or &#8532; depending on entity) - Title: line height × max lines - Description: line height × max lines (when shown) - Indicators: 3.5rem - Rating row: 2rem</p> <p>Width is implicit from grid layout.</p> <h3 id=settings-aware-skeletons>Settings-Aware Skeletons<a class=headerlink href=#settings-aware-skeletons title="Permanent link">&para;</a></h3> <p>Skeletons respect user settings to prevent jarring transitions:</p> <div class="language-javascript highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=kd>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=nx>getSettings</span><span class=w> </span><span class=p>}</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>useCardDisplaySettings</span><span class=p>();</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=kd>const</span><span class=w> </span><span class=nx>settings</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nx>getSettings</span><span class=p>(</span><span class=s1>&#39;scene&#39;</span><span class=p>);</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=o>&lt;</span><span class=nx>SkeletonCard</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>  </span><span class=nx>entityType</span><span class=o>=</span><span class=s2>&quot;scene&quot;</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>  </span><span class=nx>showDescription</span><span class=o>=</span><span class=p>{</span><span class=nx>settings</span><span class=p>.</span><span class=nx>showDescriptionOnCard</span><span class=p>}</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>  </span><span class=nx>showRatingRow</span><span class=o>=</span><span class=p>{</span><span class=nx>settings</span><span class=p>.</span><span class=nx>showRating</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>settings</span><span class=p>.</span><span class=nx>showFavorite</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=nx>settings</span><span class=p>.</span><span class=nx>showOCounter</span><span class=p>}</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=err>/&gt;</span>
</span></code></pre></div> <p>Since EntityMenu always shows, the rating row always renders - but skeleton contents adapt based on which controls are enabled.</p> <h2 id=behavior-notes>Behavior Notes<a class=headerlink href=#behavior-notes title="Permanent link">&para;</a></h2> <h3 id=grid-alignment>Grid Alignment<a class=headerlink href=#grid-alignment title="Permanent link">&para;</a></h3> <p>Cards in a grid must have aligned anatomy (image edges, titles, descriptions align horizontally). When a section is toggled OFF: - Space collapses entirely (cards become shorter) - All cards of that entity type remain aligned with each other - Grids are single-entity-type, so cross-entity alignment is not a concern</p> <h3 id=playlistdetail-items>PlaylistDetail Items<a class=headerlink href=#playlistdetail-items title="Permanent link">&para;</a></h3> <p>PlaylistDetail scene items follow the same settings as regular Scene cards.</p> <h3 id=scene-code-toggle>Scene Code Toggle<a class=headerlink href=#scene-code-toggle title="Permanent link">&para;</a></h3> <ul> <li>Only affects the card subtitle (removes code from "CODE • 2024-01-15 • Studio Name")</li> <li>Scene detail page always shows the code in its dedicated location</li> </ul> <h2 id=implementation-order>Implementation Order<a class=headerlink href=#implementation-order title="Permanent link">&para;</a></h2> <h3 id=phase-1-foundation-prerequisites>Phase 1: Foundation (Prerequisites)<a class=headerlink href=#phase-1-foundation-prerequisites title="Permanent link">&para;</a></h3> <ol> <li>Add description to PerformerCard and ImageCard</li> <li>Audit and fix skeleton heights to match actual card anatomy</li> </ol> <h3 id=phase-2-core-infrastructure>Phase 2: Core Infrastructure<a class=headerlink href=#phase-2-core-infrastructure title="Permanent link">&para;</a></h3> <ol> <li>Database migration - Add <code>cardDisplaySettings</code> JSON field to User model</li> <li>API endpoint - Extend user settings endpoints to handle <code>cardDisplaySettings</code></li> <li>Create <code>useCardDisplaySettings</code> hook with React context</li> </ol> <h3 id=phase-3-card-customization>Phase 3: Card Customization<a class=headerlink href=#phase-3-card-customization title="Permanent link">&para;</a></h3> <ol> <li>Scene code toggle - Implement <code>showCodeOnCard</code> for Scene cards</li> <li>Description toggle (cards) - Implement <code>showDescriptionOnCard</code> for all entity types</li> <li>Rating controls toggles - Implement <code>showRating</code>, <code>showFavorite</code>, <code>showOCounter</code> for all entity types</li> </ol> <h3 id=phase-4-detail-page-integration>Phase 4: Detail Page Integration<a class=headerlink href=#phase-4-detail-page-integration title="Permanent link">&para;</a></h3> <ol> <li>Description toggle (detail pages) - Implement <code>showDescriptionOnDetail</code></li> <li>Rating controls on detail pages - Hide controls based on same settings</li> </ol> <h3 id=phase-5-settings-ui>Phase 5: Settings UI<a class=headerlink href=#phase-5-settings-ui title="Permanent link">&para;</a></h3> <ol> <li>Settings page UI - Add Card Display subsection to Customization</li> <li>ContextSettings integration - Add quick access to card grids</li> <li>Search page settings cog - Add quick access to entity search pages</li> </ol> <h3 id=phase-6-skeleton-adaptation>Phase 6: Skeleton Adaptation<a class=headerlink href=#phase-6-skeleton-adaptation title="Permanent link">&para;</a></h3> <ol> <li>Update skeleton components to adapt to user's display settings</li> </ol> <h2 id=file-changes>File Changes<a class=headerlink href=#file-changes title="Permanent link">&para;</a></h2> <h3 id=new-files>New Files<a class=headerlink href=#new-files title="Permanent link">&para;</a></h3> <ul> <li><code>client/src/hooks/useCardDisplaySettings.js</code> - Settings hook/context</li> <li><code>server/prisma/migrations/XXXX_add_card_display_settings.sql</code> - Migration</li> </ul> <h3 id=modified-files>Modified Files<a class=headerlink href=#modified-files title="Permanent link">&para;</a></h3> <p><strong>Database/API:</strong> - <code>server/prisma/schema.prisma</code> - Add <code>cardDisplaySettings</code> field - <code>server/src/routes/user.js</code> (or similar) - Handle new settings field</p> <p><strong>Cards:</strong> - <code>client/src/components/ui/SceneCard.jsx</code> - Scene code toggle, pass display preferences - <code>client/src/components/ui/BaseCard.jsx</code> - May need minor adjustments for control visibility - <code>client/src/components/ui/CardComponents.jsx</code> - CardRatingRow visibility props - <code>client/src/components/cards/PerformerCard.jsx</code> - Add description, integrate settings - <code>client/src/components/cards/ImageCard.jsx</code> - Add description, integrate settings - <code>client/src/components/cards/StudioCard.jsx</code> - Integrate settings - <code>client/src/components/cards/GalleryCard.jsx</code> - Integrate settings - <code>client/src/components/cards/GroupCard.jsx</code> - Integrate settings - <code>client/src/components/cards/TagCard.jsx</code> - Integrate settings</p> <p><strong>Detail Pages:</strong> - <code>client/src/components/pages/SceneDetails.jsx</code> - Respect settings - <code>client/src/components/pages/PerformerDetails.jsx</code> - Respect settings - <code>client/src/components/pages/StudioDetails.jsx</code> - Respect settings - <code>client/src/components/pages/GalleryDetails.jsx</code> - Respect settings - <code>client/src/components/pages/GroupDetails.jsx</code> - Respect settings - <code>client/src/components/pages/TagDetails.jsx</code> - Respect settings - <code>client/src/components/pages/ImageDetails.jsx</code> - Respect settings</p> <p><strong>Skeletons:</strong> - <code>client/src/components/ui/SkeletonSceneCard.jsx</code> - Fix heights, respect settings - (may need entity-specific skeletons or a configurable component)</p> <p><strong>Settings UI:</strong> - <code>client/src/components/pages/Settings.jsx</code> (or Customization section) - Card Display UI - <code>client/src/components/ui/ContextSettings.jsx</code> - Add card display options</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 carrotwaxr </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/carrotwaxr/peek-stash-browser target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://hub.docker.com/r/carrotwaxr/peek-stash-browser target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../javascripts/extra.js></script> </body> </html>